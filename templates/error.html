{% extends "base.html" %}

{% block content %}
<div class="header">
    <h1>üè° Property Scoring App</h1>
</div>

<div class="controls">
    <div style="text-align: center; padding: 40px 20px;">
        <h2 style="color: #dc3545; margin-bottom: 20px;">‚ùå Error</h2>
        <p style="font-size: 16px; color: #666; margin-bottom: 20px;">{{ error }}</p>
        
        {% if error_info %}
        <div style="text-align: left; max-width: 800px; margin: 20px auto; background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 5px; padding: 15px;">
            <h4 style="color: #dc3545; margin-bottom: 15px;">üîç Detailed Error Information:</h4>
            <p><strong>Error Type:</strong> <code>{{ error_info.error_type }}</code></p>
            <p><strong>Error Message:</strong> <code>{{ error_info.error_message }}</code></p>
            {% if error_info.error_args %}
            <p><strong>Error Args:</strong> <code>{{ error_info.error_args }}</code></p>
            {% endif %}
            {% if error_info.traceback %}
            <details style="margin-top: 15px;">
                <summary style="cursor: pointer; color: #007bff;"><strong>Full Traceback (click to expand)</strong></summary>
                <pre style="background: #fff; border: 1px solid #ccc; padding: 10px; margin-top: 10px; overflow-x: auto; font-size: 12px; white-space: pre-wrap;">{{ error_info.traceback }}</pre>
            </details>
            {% endif %}
        </div>
        {% endif %}
        
        <a href="/" class="btn">‚Üê Back to Properties</a>
    </div>
</div>

<div class="table-container">
    <div style="padding: 20px; text-align: center; color: #666;">
        <h3>Troubleshooting Tips:</h3>
        <ul style="text-align: left; display: inline-block; margin-top: 15px;">
            <li>Ensure the database file <code>property_data.db</code> exists</li>
            <li>Check that the <code>properties</code> and <code>property_features</code> tables exist</li>
            <li>Verify your database connection settings</li>
            <li>Try refreshing the page</li>
        </ul>
    </div>
</div>
{% endblock %}
